<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Markov Chain Monte Carlo (MCMC) Sampling for the Stochastic Volatility (SV) Model — svsample • stochvol</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Markov Chain Monte Carlo (MCMC) Sampling for the Stochastic Volatility (SV) Model — svsample"><meta property="og:description" content="svsample simulates from the joint posterior distribution of the SV
parameters mu, phi, sigma (and potentially nu and rho),
along with the latent log-volatilities h_0,...,h_n and returns the
MCMC draws. If a design matrix is provided, simple Bayesian regression can
also be conducted. For similar functionality with a formula interface,
see svlm."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stochvol</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gregorkastner/stochvol/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Markov Chain Monte Carlo (MCMC) Sampling for the Stochastic Volatility (SV) Model</h1>
    <small class="dont-index">Source: <a href="https://github.com/gregorkastner/stochvol/blob/v3.2.5/R/wrappers.R" class="external-link"><code>R/wrappers.R</code></a></small>
    <div class="hidden name"><code>svsample.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>svsample</code> simulates from the joint posterior distribution of the SV
parameters <code>mu</code>, <code>phi</code>, <code>sigma</code> (and potentially <code>nu</code> and <code>rho</code>),
along with the latent log-volatilities <code>h_0,...,h_n</code> and returns the
MCMC draws. If a design matrix is provided, simple Bayesian regression can
also be conducted. For similar functionality with a formula interface,
see <code><a href="svlm.html">svlm</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">svsample</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  draws <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  designmatrix <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  priorsigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  priornu <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  priorrho <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priorbeta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span>  priorlatent0 <span class="op">=</span> <span class="st">"stationary"</span>,</span>
<span>  priorspec <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thinpara <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  thinlatent <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  keeptime <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startpara <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startlatent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"multicore"</span>, <span class="st">"snow"</span><span class="op">)</span>,</span>
<span>  n_cpus <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  print_progress <span class="op">=</span> <span class="st">"automatic"</span>,</span>
<span>  expert <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">svtsample</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  draws <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  designmatrix <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  priorsigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  priornu <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  priorrho <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priorbeta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span>  priorlatent0 <span class="op">=</span> <span class="st">"stationary"</span>,</span>
<span>  priorspec <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thinpara <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  thinlatent <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  keeptime <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startpara <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startlatent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"multicore"</span>, <span class="st">"snow"</span><span class="op">)</span>,</span>
<span>  n_cpus <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  print_progress <span class="op">=</span> <span class="st">"automatic"</span>,</span>
<span>  expert <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">svlsample</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  draws <span class="op">=</span> <span class="fl">20000</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>  designmatrix <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  priorsigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  priornu <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  priorrho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  priorbeta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span>  priorlatent0 <span class="op">=</span> <span class="st">"stationary"</span>,</span>
<span>  priorspec <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thinpara <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  thinlatent <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  keeptime <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startpara <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startlatent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"multicore"</span>, <span class="st">"snow"</span><span class="op">)</span>,</span>
<span>  n_cpus <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  print_progress <span class="op">=</span> <span class="st">"automatic"</span>,</span>
<span>  expert <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">svtlsample</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  draws <span class="op">=</span> <span class="fl">20000</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>  designmatrix <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  priorsigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  priornu <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  priorrho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  priorbeta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span>  priorlatent0 <span class="op">=</span> <span class="st">"stationary"</span>,</span>
<span>  priorspec <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thinpara <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  thinlatent <span class="op">=</span> <span class="va">thin</span>,</span>
<span>  keeptime <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startpara <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startlatent <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"multicore"</span>, <span class="st">"snow"</span><span class="op">)</span>,</span>
<span>  n_cpus <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  print_progress <span class="op">=</span> <span class="st">"automatic"</span>,</span>
<span>  expert <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">svsample2</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  draws <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  designmatrix <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>  priorsigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  priornu <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  priorrho <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  priorbeta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span>  priorlatent0 <span class="op">=</span> <span class="st">"stationary"</span>,</span>
<span>  thinpara <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thinlatent <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  keeptime <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startpara <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startlatent <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>numeric vector containing the data (usually log-returns), which
must not contain zeros. Alternatively, <code>y</code> can be an <code>svsim</code>
object. In this case, the returns will be extracted and a message is signalled.</p></dd>


<dt id="arg-draws">draws<a class="anchor" aria-label="anchor" href="#arg-draws"></a></dt>
<dd><p>single number greater or equal to 1, indicating the number of
draws after burn-in (see below). Will be automatically coerced to integer.
The default value is 10000.</p></dd>


<dt id="arg-burnin">burnin<a class="anchor" aria-label="anchor" href="#arg-burnin"></a></dt>
<dd><p>single number greater or equal to 0, indicating the number of
draws discarded as burn-in. Will be automatically coerced to integer. The
default value is 1000.</p></dd>


<dt id="arg-designmatrix">designmatrix<a class="anchor" aria-label="anchor" href="#arg-designmatrix"></a></dt>
<dd><p>regression design matrix for modeling the mean. Must
have <code>length(y)</code> rows. Alternatively, <code>designmatrix</code> may be a
string of the form <code>"arX"</code>, where <code>X</code> is a nonnegative integer. To
fit a constant mean model, use <code>designmatrix = "ar0"</code> (which is
equivalent to <code>designmatrix = matrix(1, nrow = length(y))</code>). To fit an
AR(1) model, use <code>designmatrix = "ar1"</code>, and so on. If some elements of
<code>designmatrix</code> are <code>NA</code>, the mean is fixed to zero (pre-1.2.0
behavior of <span class="pkg">stochvol</span>).</p></dd>


<dt id="arg-priormu">priormu<a class="anchor" aria-label="anchor" href="#arg-priormu"></a></dt>
<dd><p>numeric vector of length 2, indicating mean and standard
deviation for the Gaussian prior distribution of the parameter <code>mu</code>,
the level of the log-volatility. The default value is <code>c(0, 100)</code>,
which constitutes a practically uninformative prior for common exchange rate
datasets, stock returns and the like.</p></dd>


<dt id="arg-priorphi">priorphi<a class="anchor" aria-label="anchor" href="#arg-priorphi"></a></dt>
<dd><p>numeric vector of length 2, indicating the shape parameters
for the Beta prior distribution of the transformed parameter
<code>(phi + 1) / 2</code>, where <code>phi</code> denotes the persistence of the
log-volatility. The default value is <code>c(5, 1.5)</code>, which constitutes a
prior that puts some belief in a persistent log-volatility but also
encompasses the region where <code>phi</code> is around 0.</p></dd>


<dt id="arg-priorsigma">priorsigma<a class="anchor" aria-label="anchor" href="#arg-priorsigma"></a></dt>
<dd><p>single positive real number, which stands for the scaling
of the transformed parameter <code>sigma^2</code>, where <code>sigma</code> denotes the
volatility of log-volatility. More precisely, <code>sigma^2 ~ priorsigma *
chisq(df = 1)</code>. The default value is <code>1</code>, which constitutes a
reasonably vague prior for many common exchange rate datasets, stock returns
and the like.</p></dd>


<dt id="arg-priornu">priornu<a class="anchor" aria-label="anchor" href="#arg-priornu"></a></dt>
<dd><p>single non-negative number, indicating the rate parameter
for the exponential prior distribution of the parameter; can be <code>Inf</code>
<code>nu</code>, the degrees-of-freedom parameter of the conditional innovations
t-distribution. The default value is <code>0</code>, fixing the
degrees-of-freedom to infinity. This corresponds to conditional standard
normal innovations, the pre-1.1.0 behavior of <span class="pkg">stochvol</span>.</p></dd>


<dt id="arg-priorrho">priorrho<a class="anchor" aria-label="anchor" href="#arg-priorrho"></a></dt>
<dd><p>either <code>NA</code> for the no-leverage case or a numeric
vector of length 2 that specify the beta prior distribution for
<code>(rho+1)/2</code></p></dd>


<dt id="arg-priorbeta">priorbeta<a class="anchor" aria-label="anchor" href="#arg-priorbeta"></a></dt>
<dd><p>numeric vector of length 2, indicating the mean and
standard deviation of the Gaussian prior for the regression parameters. The
default value is <code>c(0, 10000)</code>, which constitutes a very vague prior
for many common datasets. Not used if <code>designmatrix</code> is <code>NA</code>.</p></dd>


<dt id="arg-priorlatent-">priorlatent0<a class="anchor" aria-label="anchor" href="#arg-priorlatent-"></a></dt>
<dd><p>either a single non-negative number or the string
<code>'stationary'</code> (the default, also the behavior before version 1.3.0).
When <code>priorlatent0</code> is equal to <code>'stationary'</code>, the stationary
distribution of the latent AR(1)-process is used as the prior for the
initial log-volatility <code>h_0</code>. When <code>priorlatent0</code> is equal to a
number \(B\), we have \(h_0 \sim N(\mu, B\sigma^2)\) a priori.</p></dd>


<dt id="arg-priorspec">priorspec<a class="anchor" aria-label="anchor" href="#arg-priorspec"></a></dt>
<dd><p>in case one needs different prior distributions than the
ones specified by <code>priormu</code>, <code>...</code>, <code>priorrho</code>, a <code>priorspec</code>
object can be supplied here. A smart constructor for this usecase is
<a href="specify_priors.html">specify_priors</a>.</p></dd>


<dt id="arg-thin">thin<a class="anchor" aria-label="anchor" href="#arg-thin"></a></dt>
<dd><p>single number greater or equal to 1, coercible to integer.
Every <code>thinpara</code>th parameter and latent draw is kept and returned. The default
value is 1, corresponding to no thinning of the parameter draws i.e. every
draw is stored.</p></dd>


<dt id="arg-thinpara">thinpara<a class="anchor" aria-label="anchor" href="#arg-thinpara"></a></dt>
<dd><p>single number greater or equal to 1, coercible to integer.
Every <code>thinpara</code>th parameter draw is kept and returned. The default
value is <code>thin</code>.</p></dd>


<dt id="arg-thinlatent">thinlatent<a class="anchor" aria-label="anchor" href="#arg-thinlatent"></a></dt>
<dd><p>single number greater or equal to 1, coercible to integer.
Every <code>thinlatent</code>th latent variable draw is kept and returned. The
default value is <code>thin</code></p></dd>


<dt id="arg-keeptime">keeptime<a class="anchor" aria-label="anchor" href="#arg-keeptime"></a></dt>
<dd><p>Either 'all' (the default) or 'last'. Indicates which latent
volatility draws should be stored.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>logical value indicating whether the progress bar and other
informative output during sampling should be omitted. The default value is
<code>FALSE</code>, implying verbose output.</p></dd>


<dt id="arg-startpara">startpara<a class="anchor" aria-label="anchor" href="#arg-startpara"></a></dt>
<dd><p><em>optional</em> named list, containing the starting values
for the parameter draws. If supplied, <code>startpara</code> may contain
elements named <code>mu</code>, <code>phi</code>, <code>sigma</code>, <code>nu</code>, <code>rho</code>,
<code>beta</code>, and <code>latent0</code>.
The default value is equal to the prior mean.
In case of parallel execution with <code>cl</code> provided, <code>startpara</code> can be a list of
named lists that initialize the parallel chains.</p></dd>


<dt id="arg-startlatent">startlatent<a class="anchor" aria-label="anchor" href="#arg-startlatent"></a></dt>
<dd><p><em>optional</em> vector of length <code>length(y)</code>,
containing the starting values for the latent log-volatility draws. The
default value is <code>rep(-10, length(y))</code>.
In case of parallel execution with <code>cl</code> provided, <code>startlatent</code> can be a list of
numeric vectors that initialize the parallel chains.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p><em>optional</em> one of <code>"no"</code> (default), <code>"multicore"</code>, or <code>"snow"</code>,
indicating what type of parallellism is to be applied. Option
<code>"multicore"</code> is not available on Windows.</p></dd>


<dt id="arg-n-cpus">n_cpus<a class="anchor" aria-label="anchor" href="#arg-n-cpus"></a></dt>
<dd><p><em>optional</em> positive integer, the number of CPUs to be used in case of
parallel computations. Defaults to <code>1L</code>. Ignored if parameter
<code>cl</code> is supplied and <code>parallel != "snow"</code>.</p></dd>


<dt id="arg-cl">cl<a class="anchor" aria-label="anchor" href="#arg-cl"></a></dt>
<dd><p><em>optional</em> so-called SNOW cluster object as implemented in package
<code>parallel</code>. Ignored unless <code>parallel == "snow"</code>.</p></dd>


<dt id="arg-n-chains">n_chains<a class="anchor" aria-label="anchor" href="#arg-n-chains"></a></dt>
<dd><p><em>optional</em> positive integer specifying the number of independent MCMC chains</p></dd>


<dt id="arg-print-progress">print_progress<a class="anchor" aria-label="anchor" href="#arg-print-progress"></a></dt>
<dd><p><em>optional</em> one of <code>"automatic"</code>, <code>"progressbar"</code>,
or <code>"iteration"</code>, controls the output. Ignored if <code>quiet</code> is <code>TRUE</code>.</p></dd>


<dt id="arg-expert">expert<a class="anchor" aria-label="anchor" href="#arg-expert"></a></dt>
<dd><p><em>optional</em> named list of expert parameters. For most
applications, the default values probably work best. Interested users are
referred to the literature provided in the References section. If
<code>expert</code> is provided, it may contain the following named elements:</p><dl><dt>interweave</dt>
<dd><p>Logical value. If <code>TRUE</code> (the default),
then ancillarity-sufficiency interweaving strategy (ASIS) is applied
to improve on the sampling efficiency for the parameters.
Otherwise one parameterization is used.</p></dd>

<dt>correct_model_misspecification</dt>
<dd><p>Logical value. If <code>FALSE</code>
(the default), then auxiliary mixture sampling is used to sample the latent
states. If <code>TRUE</code>, extra computations are made to correct for model
misspecification either ex-post by reweighting or on-line using a
Metropolis-Hastings step.</p></dd>


</dl></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Any extra arguments will be forwarded to
<code><a href="updatesummary.html">updatesummary</a></code>, controlling the type of statistics calculated
for the posterior draws.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The value returned is a list object of class <code>svdraws</code> holding</p>
<dl><dt>para</dt>
<dd><p><code>mcmc.list</code> object containing the <em>parameter</em> draws from
the posterior distribution.</p></dd>

<dt>latent</dt>
<dd><p><code>mcmc.list</code> object containing the
<em>latent instantaneous log-volatility</em> draws from the posterior
distribution.</p></dd>

<dt>latent0</dt>
<dd><p><code>mcmc.list</code> object containing the <em>latent
initial log-volatility</em> draws from the posterior distribution.</p></dd>

<dt>tau</dt>
<dd><p><code>mcmc.list</code> object containing the <em>latent variance inflation
factors</em> for the sampler with conditional t-innovations <em>(optional)</em>.</p></dd>

<dt>beta</dt>
<dd><p><code>mcmc.list</code> object containing the <em>regression coefficient</em>
draws from the posterior distribution <em>(optional)</em>.</p></dd>

<dt>y</dt>
<dd><p>the left hand side of the observation equation, usually
the argument <code>y</code>. In case of an AR(<code>k</code>) specification, the
first <code>k</code> elements are removed.</p></dd>

<dt>runtime</dt>
<dd><p><code>proc_time</code> object containing the
run time of the sampler.</p></dd>

<dt>priors</dt>
<dd><p>a <code>priorspec</code> object containing the parameter
values of the prior distributions for <code>mu</code>,
<code>phi</code>, <code>sigma</code>, <code>nu</code>, <code>rho</code>, and
<code>beta</code>s, and the variance of specification for <code>latent0</code>.</p></dd>

<dt>thinning</dt>
<dd><p><code>list</code> containing the thinning
parameters, i.e. the arguments <code>thinpara</code>, <code>thinlatent</code> and
<code>keeptime</code>.</p></dd>

<dt>summary</dt>
<dd><p><code>list</code> containing a collection of
summary statistics of the posterior draws for <code>para</code>, <code>latent</code>,
and <code>latent0</code>.</p></dd>

<dt>meanmodel</dt>
<dd><p><code>character</code> containing information about how <code>designmatrix</code>
was employed.</p></dd>


</dl><p>To display the output, use <code>print</code>, <code>summary</code> and <code>plot</code>. The
<code>print</code> method simply prints the posterior draws (which is very likely
a lot of output); the <code>summary</code> method displays the summary statistics
currently stored in the object; the <code>plot</code> method
<code><a href="plot.svdraws.html">plot.svdraws</a></code> gives a graphical overview of the posterior
distribution by calling <code><a href="volplot.html">volplot</a></code>, <code><a href="https://rdrr.io/pkg/coda/man/traceplot.html" class="external-link">traceplot</a></code> and
<code><a href="https://rdrr.io/pkg/coda/man/densplot.html" class="external-link">densplot</a></code> and displaying the results on a single page.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Functions <code>svtsample</code>, <code>svlsample</code>, and <code>svtlsample</code> are
wrappers around <code>svsample</code> with convenient default values for the SV
model with t-errors, leverage, and both t-errors and leverage, respectively.</p>
<p>For details concerning the algorithm please see the paper by Kastner and
Frühwirth-Schnatter (2014) and Hosszejni and Kastner (2019).</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>If <code>y</code> contains zeros, you might want to consider de-meaning your
returns or use <code>designmatrix = "ar0"</code>.</p>
<p><code>svsample2</code> is deprecated.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Kastner, G. and Frühwirth-Schnatter, S. (2014).
Ancillarity-sufficiency interweaving strategy (ASIS) for boosting MCMC
estimation of stochastic volatility models. <em>Computational Statistics &amp;
Data Analysis</em>, <b>76</b>, 408–423,
<a href="https://doi.org/10.1016/j.csda.2013.01.002" class="external-link">doi:10.1016/j.csda.2013.01.002</a>
.</p>
<p>Hosszejni, D. and Kastner, G. (2019).
Approaches Toward the Bayesian Estimation of the Stochastic Volatility Model with Leverage.
<em>Springer Proceedings in Mathematics &amp; Statistics</em>, <b>296</b>, 75–83,
<a href="https://doi.org/10.1007/978-3-030-30611-3_8" class="external-link">doi:10.1007/978-3-030-30611-3_8</a>
.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="svlm.html">svlm</a></code>, <code><a href="svsim.html">svsim</a></code>, <code><a href="specify_priors.html">specify_priors</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">###############</span></span></span>
<span class="r-in"><span><span class="co"># Full examples</span></span></span>
<span class="r-in"><span><span class="co">###############</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1</span></span></span>
<span class="r-in"><span><span class="co">## Simulate a short and highly persistent SV process </span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="fl">100</span>, mu <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, phi <span class="op">=</span> <span class="fl">0.99</span>, sigma <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Obtain 5000 draws from the sampler (that's not a lot)</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu">svsample</span><span class="op">(</span><span class="va">sim</span>, draws <span class="op">=</span> <span class="fl">5000</span>, burnin <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>           priormu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span>, priorphi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">1.5</span><span class="op">)</span>, priorsigma <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Extracted data vector from 'svsim'-object.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check out the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of 'svdraws' object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prior distributions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu        ~ Normal(mean = -10, sd = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (phi+1)/2 ~ Beta(a = 20, b = 1.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma^2   ~ Gamma(shape = 0.5, rate = 2.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nu        ~ Infinity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rho       ~ Constant(value = 0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stored 5000 MCMC draws after a burn-in of 100.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No thinning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Posterior draws of SV parameters (thinning = 1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               mean      sd       5%      50%      95% ESS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu        -11.3240 0.32117 -1.2e+01 -11.3599 -10.8211 951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> phi         0.8443 0.10176  6.4e-01   0.8620   0.9763 416</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma       0.2152 0.13545  2.3e-02   0.2011   0.4625 255</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(mu/2)   0.0035 0.00073  2.8e-03   0.0034   0.0045 951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma^2     0.0646 0.07473  5.3e-04   0.0404   0.2139 255</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Simulation object extracted from input</span>
<span class="r-plt img"><img src="svsample-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Example 2</span></span></span>
<span class="r-in"><span><span class="co">## Simulate an asymmetric and conditionally heavy-tailed SV process</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="fl">150</span>, mu <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, phi <span class="op">=</span> <span class="fl">0.96</span>, sigma <span class="op">=</span> <span class="fl">0.3</span>, nu <span class="op">=</span> <span class="fl">10</span>, rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Obtain 10000 draws from the sampler</span></span></span>
<span class="r-in"><span><span class="co">## Use more advanced prior settings</span></span></span>
<span class="r-in"><span><span class="co">## Run two parallel MCMC chains</span></span></span>
<span class="r-in"><span><span class="va">advanced_draws</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu">svsample</span><span class="op">(</span><span class="va">sim</span>, draws <span class="op">=</span> <span class="fl">10000</span>, burnin <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>           priorspec <span class="op">=</span> <span class="fu"><a href="specify_priors.html">specify_priors</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="fu"><a href="sv_prior.html">sv_normal</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                      sigma2 <span class="op">=</span> <span class="fu"><a href="sv_prior.html">sv_gamma</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                      rho <span class="op">=</span> <span class="fu"><a href="sv_prior.html">sv_beta</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                      nu <span class="op">=</span> <span class="fu"><a href="sv_prior.html">sv_constant</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           parallel <span class="op">=</span> <span class="st">"snow"</span>, n_chains <span class="op">=</span> <span class="fl">2</span>, n_cpus <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Extracted data vector from 'svsim'-object.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check out the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">advanced_draws</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of 'svdraws' object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prior distributions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu        ~ Normal(mean = -10, sd = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (phi+1)/2 ~ Beta(a = 5, b = 1.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma^2   ~ Gamma(shape = 0.5, rate = 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nu        ~ Constant(value = 5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rho       ~ Beta(a = 4, b = 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stored 10000 MCMC draws after a burn-in of 5000.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No thinning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Posterior draws of SV parameters (thinning = 1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               mean      sd       5%      50%     95%  ESS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu        -10.3541 0.25921 -10.7697 -10.3508 -9.9495 2987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> phi         0.7439 0.17158   0.4016   0.7863  0.9317  129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma       0.4873 0.17549   0.2261   0.4741  0.7879  171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rho        -0.0196 0.22258  -0.3994  -0.0116  0.3259  183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(mu/2)   0.0057 0.00074   0.0046   0.0057  0.0069 2987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma^2     0.2683 0.18948   0.0511   0.2248  0.6208  171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">advanced_draws</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Simulation object extracted from input</span>
<span class="r-plt img"><img src="svsample-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3</span></span></span>
<span class="r-in"><span><span class="co">## AR(1) structure for the mean</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exrates</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">len</span> <span class="op">&lt;-</span> <span class="fl">3000</span></span></span>
<span class="r-in"><span><span class="va">ahead</span> <span class="op">&lt;-</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">exrates</span><span class="op">$</span><span class="va">USD</span>, <span class="va">len</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Fit AR(1)-SVL model to EUR-USD exchange rates</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample</span><span class="op">(</span><span class="va">y</span>, designmatrix <span class="op">=</span> <span class="st">"ar1"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Use predict.svdraws to obtain predictive distributions</span></span></span>
<span class="r-in"><span><span class="va">preddraws</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">res</span>, steps <span class="op">=</span> <span class="va">ahead</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Calculate predictive quantiles</span></span></span>
<span class="r-in"><span><span class="va">predquants</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">predy</a></span><span class="op">(</span><span class="va">preddraws</span><span class="op">)</span>, <span class="fl">2</span>, <span class="va">quantile</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.5</span>, <span class="fl">.9</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Visualize</span></span></span>
<span class="r-in"><span><span class="va">expost</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">exrates</span><span class="op">$</span><span class="va">USD</span>, <span class="va">len</span><span class="op">+</span><span class="va">ahead</span><span class="op">)</span>, <span class="va">ahead</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/ts.plot.html" class="external-link">ts.plot</a></span><span class="op">(</span><span class="va">y</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">-</span><span class="fl">4</span><span class="op">*</span><span class="va">ahead</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">+</span><span class="va">ahead</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">predquants</span>, <span class="va">expost</span>, <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">y</span>, <span class="fl">4</span><span class="op">*</span><span class="va">ahead</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">+</span><span class="va">ahead</span><span class="op">)</span>, <span class="va">predquants</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>        col <span class="op">=</span> <span class="fl">3</span>, lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">+</span><span class="va">ahead</span><span class="op">)</span>, <span class="va">expost</span>,</span></span>
<span class="r-in"><span>      col <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="svsample-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 4</span></span></span>
<span class="r-in"><span><span class="co">## Predicting USD based on JPY and GBP in the mean</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">exrates</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">len</span> <span class="op">&lt;-</span> <span class="fl">3000</span></span></span>
<span class="r-in"><span><span class="va">ahead</span> <span class="op">&lt;-</span> <span class="fl">30</span></span></span>
<span class="r-in"><span><span class="co">## Calculate log-returns</span></span></span>
<span class="r-in"><span><span class="va">logreturns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">exrates</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USD"</span>, <span class="st">"JPY"</span>, <span class="st">"GBP"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">2</span>,</span></span>
<span class="r-in"><span>                    <span class="kw">function</span> <span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">logretUSD</span> <span class="op">&lt;-</span> <span class="va">logreturns</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>, <span class="st">"USD"</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">regressors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">logreturns</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">len</span>, <span class="op">]</span><span class="op">)</span><span class="op">)</span>  <span class="co"># lagged by 1 day</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Fit SV model to EUR-USD exchange rates</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample</span><span class="op">(</span><span class="va">logretUSD</span>, designmatrix <span class="op">=</span> <span class="va">regressors</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Use predict.svdraws to obtain predictive distributions</span></span></span>
<span class="r-in"><span><span class="va">predregressors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">logreturns</span><span class="op">[</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="va">ahead</span><span class="op">)</span>, <span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">preddraws</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">res</span>, steps <span class="op">=</span> <span class="va">ahead</span>,</span></span>
<span class="r-in"><span>                     newdata <span class="op">=</span> <span class="va">predregressors</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">predprice</span> <span class="op">&lt;-</span> <span class="va">exrates</span><span class="op">[</span><span class="va">len</span><span class="op">+</span><span class="fl">2</span>, <span class="st">"USD"</span><span class="op">]</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">predy</a></span><span class="op">(</span><span class="va">preddraws</span><span class="op">)</span>, <span class="fl">1</span>, <span class="va">cumsum</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Calculate predictive quantiles</span></span></span>
<span class="r-in"><span><span class="va">predquants</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">predprice</span>, <span class="fl">2</span>, <span class="va">quantile</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.5</span>, <span class="fl">.9</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Visualize</span></span></span>
<span class="r-in"><span><span class="va">priceUSD</span> <span class="op">&lt;-</span> <span class="va">exrates</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="fl">2</span><span class="op">)</span>, <span class="st">"USD"</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">expost</span> <span class="op">&lt;-</span> <span class="va">exrates</span><span class="op">[</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="fl">3</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="va">ahead</span><span class="op">+</span><span class="fl">2</span><span class="op">)</span>, <span class="st">"USD"</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/ts.plot.html" class="external-link">ts.plot</a></span><span class="op">(</span><span class="va">priceUSD</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">len</span><span class="op">-</span><span class="fl">4</span><span class="op">*</span><span class="va">ahead</span>, <span class="va">len</span><span class="op">+</span><span class="va">ahead</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">expost</span>, <span class="va">predquants</span>, <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">priceUSD</span>, <span class="fl">4</span><span class="op">*</span><span class="va">ahead</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">len</span><span class="op">:</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="va">ahead</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">priceUSD</span>, <span class="fl">1</span><span class="op">)</span>, <span class="va">predquants</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        col <span class="op">=</span> <span class="fl">3</span>, lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">len</span><span class="op">:</span><span class="op">(</span><span class="va">len</span><span class="op">+</span><span class="va">ahead</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">priceUSD</span>, <span class="fl">1</span><span class="op">)</span>, <span class="va">expost</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      col <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="svsample-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">########################</span></span></span>
<span class="r-in"><span><span class="co"># Further short examples</span></span></span>
<span class="r-in"><span><span class="co">########################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="fl">50</span>, nu <span class="op">=</span> <span class="fl">10</span>, rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span><span class="op">)</span><span class="op">$</span><span class="va">y</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Supply initial values</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample</span><span class="op">(</span><span class="va">y</span>,</span></span>
<span class="r-in"><span>                startpara <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, sigma <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Supply initial values for parallel chains</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample</span><span class="op">(</span><span class="va">y</span>,</span></span>
<span class="r-in"><span>                startpara <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, sigma <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                 <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="op">-</span><span class="fl">11</span>, sigma <span class="op">=</span> <span class="fl">.1</span>, phi <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                 <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="op">-</span><span class="fl">9</span>, sigma <span class="op">=</span> <span class="fl">.3</span>, phi <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                parallel <span class="op">=</span> <span class="st">"snow"</span>, n_chains <span class="op">=</span> <span class="fl">3</span>, n_cpus <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Parallel chains with with a pre-defined cluster object</span></span></span>
<span class="r-in"><span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"PSOCK"</span>, outfile <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>  <span class="co"># print to console</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample</span><span class="op">(</span><span class="va">y</span>,</span></span>
<span class="r-in"><span>                parallel <span class="op">=</span> <span class="st">"snow"</span>, n_chains <span class="op">=</span> <span class="fl">3</span>, cl <span class="op">=</span> <span class="va">cl</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-in"><span><span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">stopCluster</a></span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Turn on correction for model misspecification</span></span></span>
<span class="r-in"><span><span class="co">## Since the approximate model is fast and it is working very</span></span></span>
<span class="r-in"><span><span class="co">##   well in practice, this is turned off by default</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample</span><span class="op">(</span><span class="va">y</span>,</span></span>
<span class="r-in"><span>                expert <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>correct_model_misspecification <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Done!</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Summarizing posterior draws...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No computation of effective sample size after re-sampling</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of 'svdraws' object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prior distributions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu        ~ Normal(mean = 0, sd = 100)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (phi+1)/2 ~ Beta(a = 5, b = 1.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma^2   ~ Gamma(shape = 0.5, rate = 0.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nu        ~ Infinity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rho       ~ Constant(value = 0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stored 10000 MCMC draws after a burn-in of 1000.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No thinning.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Posterior draws of SV parameters (thinning = 1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               mean     sd       5%      50%     95%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu        -10.1530 0.3265 -10.6877 -10.1392 -9.6695</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> phi         0.3689 0.3128  -0.1722   0.3838  0.8502</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma       0.5682 0.3590   0.0568   0.5309  1.2278</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(mu/2)   0.0063 0.0011   0.0048   0.0063  0.0079</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sigma^2     0.4517 0.5209   0.0032   0.2818  1.5075</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Posterior draws from the auxiliary SV model were re-sampled after the MCMC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> procedure ended to correct for model mis-specification.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Re-sampling of parameters and latents was of little practical importance:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - max reachable entropy for this sample size: 9.21034,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - entropy of the re-sampling weight distribution: 9.209905</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Parallel multicore chains (not available on Windows)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample</span><span class="op">(</span><span class="va">y</span>, draws <span class="op">=</span> <span class="fl">30000</span>, burnin <span class="op">=</span> <span class="fl">10000</span>,</span></span>
<span class="r-in"><span>                parallel <span class="op">=</span> <span class="st">"multicore"</span>, n_chains <span class="op">=</span> <span class="fl">3</span>, n_cpus <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot using a color palette</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fu">coda</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/coda/man/nchain.html" class="external-link">nchain</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">para</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"all"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use functionality from package 'coda'</span></span></span>
<span class="r-in"><span><span class="co">## E.g. Geweke's convergence diagnostics</span></span></span>
<span class="r-in"><span><span class="fu">coda</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/coda/man/geweke.diag.html" class="external-link">geweke.diag</a></span><span class="op">(</span><span class="fu"><a href="extractors.html">para</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"all"</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mu"</span>, <span class="st">"phi"</span>, <span class="st">"sigma"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use functionality from package 'bayesplot'</span></span></span>
<span class="r-in"><span><span class="fu">bayesplot</span><span class="fu">::</span><span class="fu">mcmc_pairs</span><span class="op">(</span><span class="va">res</span>, pars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sigma"</span>, <span class="st">"mu"</span>, <span class="st">"phi"</span>, <span class="st">"h_0"</span>, <span class="st">"h_15"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Darjus Hosszejni, Gregor Kastner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

