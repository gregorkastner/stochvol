<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bindings to C++ Functions in stochvol — svsample_fast_cpp • stochvol</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Bindings to C++ Functions in stochvol — svsample_fast_cpp"><meta property="og:description" content="All the heavy lifting in stochvol is implemented in C++
with the help of R packages Rcpp and RcppArmadillo.
These functions call the MCMC samplers in C++ directly without any
any validation and transformations, expert use only!"><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stochvol</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gregorkastner/stochvol/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bindings to <code>C++</code> Functions in <code>stochvol</code></h1>
    <small class="dont-index">Source: <a href="https://github.com/gregorkastner/stochvol/blob/master/R/exports.R" class="external-link"><code>R/exports.R</code></a></small>
    <div class="hidden name"><code>svsample_cpp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>All the heavy lifting in <code>stochvol</code> is implemented in <code>C++</code>
with the help of <code>R</code> packages <code>Rcpp</code> and <code>RcppArmadillo</code>.
These functions call the MCMC samplers in <code>C++</code> directly without any
any validation and transformations, expert use only!</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">svsample_fast_cpp</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  draws <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  designmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>  priorspec <span class="op">=</span> <span class="fu"><a href="specify_priors.html">specify_priors</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  thinpara <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thinlatent <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  keeptime <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  <span class="va">startpara</span>,</span>
<span>  <span class="va">startlatent</span>,</span>
<span>  keeptau <span class="op">=</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits</a></span><span class="op">(</span><span class="va">priorspec</span><span class="op">$</span><span class="va">nu</span>, <span class="st">"sv_infinity"</span><span class="op">)</span>,</span>
<span>  print_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>quiet <span class="op">=</span> <span class="cn">TRUE</span>, n_chains <span class="op">=</span> <span class="fl">1</span>, chain <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  correct_model_misspecification <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  interweave <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  myoffset <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  fast_sv <span class="op">=</span> <span class="fu"><a href="expert_defaults.html">get_default_fast_sv</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">svsample_general_cpp</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  draws <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  designmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>  priorspec <span class="op">=</span> <span class="fu"><a href="specify_priors.html">specify_priors</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  thinpara <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thinlatent <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  keeptime <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  <span class="va">startpara</span>,</span>
<span>  <span class="va">startlatent</span>,</span>
<span>  keeptau <span class="op">=</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits</a></span><span class="op">(</span><span class="va">priorspec</span><span class="op">$</span><span class="va">nu</span>, <span class="st">"sv_infinity"</span><span class="op">)</span>,</span>
<span>  print_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>quiet <span class="op">=</span> <span class="cn">TRUE</span>, n_chains <span class="op">=</span> <span class="fl">1</span>, chain <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  correct_model_misspecification <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  interweave <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  myoffset <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  general_sv <span class="op">=</span> <span class="fu"><a href="expert_defaults.html">get_default_general_sv</a></span><span class="op">(</span><span class="va">priorspec</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>numeric vector of the observations</p></dd>


<dt id="arg-draws">draws<a class="anchor" aria-label="anchor" href="#arg-draws"></a></dt>
<dd><p>single positive integer, the number of draws to
return (after the burn-in)</p></dd>


<dt id="arg-burnin">burnin<a class="anchor" aria-label="anchor" href="#arg-burnin"></a></dt>
<dd><p>single positive integer, length of warm-up
period, this number of draws are discarded from the beginning</p></dd>


<dt id="arg-designmatrix">designmatrix<a class="anchor" aria-label="anchor" href="#arg-designmatrix"></a></dt>
<dd><p>numeric matrix of covariates. Dimensions:
<code>length(y)</code> times the number of covariates. If there are
no covariates then this should be <code>matrix(NA)</code></p></dd>


<dt id="arg-priorspec">priorspec<a class="anchor" aria-label="anchor" href="#arg-priorspec"></a></dt>
<dd><p>a <code>priorspec</code> object created by
<code><a href="specify_priors.html">specify_priors</a></code></p></dd>


<dt id="arg-thinpara">thinpara<a class="anchor" aria-label="anchor" href="#arg-thinpara"></a></dt>
<dd><p>single number greater or equal to 1, coercible to integer.
Every <code>thinpara</code>th parameter draw is kept and returned. The default
value is 1, corresponding to no thinning of the parameter draws i.e. every
draw is stored.</p></dd>


<dt id="arg-thinlatent">thinlatent<a class="anchor" aria-label="anchor" href="#arg-thinlatent"></a></dt>
<dd><p>single number greater or equal to 1, coercible to integer.
Every <code>thinlatent</code>th latent variable draw is kept and returned. The
default value is 1, corresponding to no thinning of the latent variable
draws, i.e. every draw is kept.</p></dd>


<dt id="arg-keeptime">keeptime<a class="anchor" aria-label="anchor" href="#arg-keeptime"></a></dt>
<dd><p>Either 'all' (the default) or 'last'. Indicates which latent
volatility draws should be stored.</p></dd>


<dt id="arg-startpara">startpara<a class="anchor" aria-label="anchor" href="#arg-startpara"></a></dt>
<dd><p>named list, containing the starting values
for the parameter draws. It must contain
elements</p><ul><li><p>mu: an arbitrary numerical value</p></li>
<li><p>phi: real number between <code>-1</code> and <code>1</code></p></li>
<li><p>sigma: a positive real number</p></li>
<li><p>nu: a number larger than <code>2</code>; can be <code>Inf</code></p></li>
<li><p>rho: real number between <code>-1</code> and <code>1</code></p></li>
<li><p>beta: a numeric vector of the same length as the number of covariates</p></li>
<li><p>latent0: a single number, the initial value for <code>h0</code></p></li>
</ul></dd>


<dt id="arg-startlatent">startlatent<a class="anchor" aria-label="anchor" href="#arg-startlatent"></a></dt>
<dd><p>vector of length <code>length(y)</code>,
containing the starting values for the latent log-volatility draws.</p></dd>


<dt id="arg-keeptau">keeptau<a class="anchor" aria-label="anchor" href="#arg-keeptau"></a></dt>
<dd><p>Logical value indicating whether the 'variance inflation
factors' should be stored (used for the sampler with conditional t
innovations only). This may be useful to check at what point(s) in time the
normal disturbance had to be 'upscaled' by a mixture factor and when the
series behaved 'normally'.</p></dd>


<dt id="arg-print-settings">print_settings<a class="anchor" aria-label="anchor" href="#arg-print-settings"></a></dt>
<dd><p>List of three elements:</p><ul><li><p>quiet: logical value indicating whether the progress bar and other
informative output during sampling should be omitted</p></li>
<li><p>n_chains: number of independent MCMC chains</p></li>
<li><p>chain: index of this chain</p></li>
</ul><p>Please note that this function does not run multiple independent chains
but <code><a href="svsample.html">svsample</a></code> offers different printing functionality depending on
whether it is executed as part of several MCMC chains in parallel
(chain specific messages) or simply as a single chain (progress bar).</p></dd>


<dt id="arg-correct-model-misspecification">correct_model_misspecification<a class="anchor" aria-label="anchor" href="#arg-correct-model-misspecification"></a></dt>
<dd><p>Logical value. If <code>FALSE</code>,
then auxiliary mixture sampling is used to sample the latent
states. If <code>TRUE</code>, extra computations are made to correct for model
misspecification either ex-post by reweighting or on-line using a
Metropolis-Hastings step.</p></dd>


<dt id="arg-interweave">interweave<a class="anchor" aria-label="anchor" href="#arg-interweave"></a></dt>
<dd><p>Logical value. If <code>TRUE</code>,
then ancillarity-sufficiency interweaving strategy (ASIS) is applied
to improve on the sampling efficiency for the parameters.
Otherwise one parameterization is used.</p></dd>


<dt id="arg-myoffset">myoffset<a class="anchor" aria-label="anchor" href="#arg-myoffset"></a></dt>
<dd><p>Single non-negative number that is used in
<code>log(y^2 + myoffset)</code> to prevent <code>-Inf</code> values in the auxiliary
mixture sampling scheme.</p></dd>


<dt id="arg-fast-sv">fast_sv<a class="anchor" aria-label="anchor" href="#arg-fast-sv"></a></dt>
<dd><p>named list of expert settings. We recommend the use of <code><a href="expert_defaults.html">get_default_fast_sv</a></code>.</p></dd>


<dt id="arg-general-sv">general_sv<a class="anchor" aria-label="anchor" href="#arg-general-sv"></a></dt>
<dd><p>named list of expert settings. We recommend the use of <code><a href="expert_defaults.html">get_default_general_sv</a></code>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The sampling functions are separated into fast SV and general SV. See more details
in the sections below.</p>
    </div>
    <div id="fast-sv">
    <h2>Fast SV</h2>


<p>Fast SV was developed in Kastner and Fruehwirth-Schnatter (2014). Fast SV estimates an
approximate SV model without leverage, where the approximation comes in through
auxiliary mixture approximations to the exact SV model. The sampler uses
the ancillarity-sufficiency interweaving strategy (ASIS) to improve on the sampling
efficiency of the model parameters, and it employs all-without-a-loop (AWOL)
for computationally efficient Kalman filtering of the conditionally Gaussian state space.
Correction for model misspecification happens as a post-processing step.</p>
<p>Fast SV employs sampling strategies that have been fine-tuned and specified for
vanilla SV (no leverage), and hence it can be fast and efficient but also more limited
in its feature set. The conditions for the fast SV sampler: <code>rho == 0</code>; <code>mu</code>
has either a normal prior or it is also constant <code>0</code>; the prior for <code>phi</code>
is a beta distribution; the prior for <code>sigma^2</code> is either a gamma distribution
with shape <code>0.5</code> or a mean- and variance-matched inverse gamma distribution;
either <code>keeptime == 'all'</code> or <code>correct_model_misspecification == FALSE</code>.
These criteria are NOT VALIDATED by fast SV on the <code>C++</code> level!</p>
    </div>
    <div id="general-sv">
    <h2>General SV</h2>


<p>General SV also estimates an
approximate SV model without leverage, where the approximation comes in through
auxiliary mixture approximations to the exact SV model. The sampler uses
both ASIS and AWOL.</p>
<p>General SV employs adapted random walk Metropolis-Hastings as the proposal for
the parameters <code>mu</code>, <code>phi</code>, <code>sigma</code>, and <code>rho</code>. Therefore,
more general prior distributions are allowed in this case.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Draw one sample using fast SV and general SV</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="fl">40</span><span class="op">)</span><span class="op">$</span><span class="va">y</span></span></span>
<span class="r-in"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, phi <span class="op">=</span> <span class="fl">0.9</span>, sigma <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>               nu <span class="op">=</span> <span class="cn">Inf</span>, rho <span class="op">=</span> <span class="fl">0</span>, beta <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>               latent0 <span class="op">=</span> <span class="op">-</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_fast</span> <span class="op">&lt;-</span> <span class="fu">svsample_fast_cpp</span><span class="op">(</span><span class="va">y</span>,</span></span>
<span class="r-in"><span>  startpara <span class="op">=</span> <span class="va">params</span>, startlatent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_gen</span> <span class="op">&lt;-</span> <span class="fu">svsample_general_cpp</span><span class="op">(</span><span class="va">y</span>,</span></span>
<span class="r-in"><span>  startpara <span class="op">=</span> <span class="va">params</span>, startlatent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Embed SV in another sampling scheme</span></span></span>
<span class="r-in"><span><span class="co">## vanilla SV</span></span></span>
<span class="r-in"><span><span class="va">len</span> <span class="op">&lt;-</span> <span class="fl">40L</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span> <span class="fl">1000L</span></span></span>
<span class="r-in"><span><span class="va">burnin</span> <span class="op">&lt;-</span> <span class="fl">200L</span></span></span>
<span class="r-in"><span><span class="va">param_store</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="va">draws</span>, <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                      dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>                                      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mu"</span>, <span class="st">"phi"</span>, <span class="st">"sigma"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">startpara</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="fl">0</span>, phi <span class="op">=</span> <span class="fl">0.9</span>, sigma <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>                  nu <span class="op">=</span> <span class="cn">Inf</span>, rho <span class="op">=</span> <span class="fl">0</span>, beta <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>                  latent0 <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">startlatent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">len</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">burnin</span><span class="op">+</span><span class="va">draws</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># draw the data in the bigger sampling scheme</span></span></span>
<span class="r-in"><span>  <span class="co"># now we simulate y from vanilla SV</span></span></span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="svsim.html">svsim</a></span><span class="op">(</span><span class="va">len</span>, mu <span class="op">=</span> <span class="fl">0</span>, phi <span class="op">=</span> <span class="fl">0.9</span>, sigma <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">$</span><span class="va">y</span></span></span>
<span class="r-in"><span>  <span class="co"># call SV sampler</span></span></span>
<span class="r-in"><span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">svsample_fast_cpp</span><span class="op">(</span><span class="va">y</span>, startpara <span class="op">=</span> <span class="va">startpara</span>,</span></span>
<span class="r-in"><span>                           startlatent <span class="op">=</span> <span class="va">startlatent</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># administrate values</span></span></span>
<span class="r-in"><span>  <span class="va">startpara</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mu"</span>,<span class="st">"phi"</span>,<span class="st">"sigma"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">para</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mu"</span>, <span class="st">"phi"</span>, <span class="st">"sigma"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">startlatent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/drop.html" class="external-link">drop</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">latent</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># store draws after the burnin</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="va">i</span> <span class="op">&gt;</span> <span class="va">burnin</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">param_store</span><span class="op">[</span><span class="va">i</span><span class="op">-</span><span class="va">burnin</span>, <span class="op">]</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>      <span class="va">res</span><span class="op">$</span><span class="va">para</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mu"</span>, <span class="st">"phi"</span>, <span class="st">"sigma"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co">### quick look at the traceplots</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/ts.plot.html" class="external-link">ts.plot</a></span><span class="op">(</span><span class="va">param_store</span>, col <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="svsample_cpp-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Darjus Hosszejni, Gregor Kastner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

